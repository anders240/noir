<!DOCTYPE html>
<head>
  <title>New Tab</title>
</head>
<body>
  <button id="button">Launch</button>

  <script>
    document.getElementById('button').addEventListener('click', () => {
      const newTab = window.open('about:blank', '_blank');
      if (newTab) {
        fetch('code.html')
          .then(response => response.text())
          .then(html => {
            newTab.document.open();
            newTab.document.write(html);
            newTab.document.close();
          })
          .catch(err => {
            newTab.document.write('<h1>Failed to load code.html</h1>');
            newTab.document.close();
          });
      } else {
        alert('Popup blocked! Please allow popups for this website.');
      }
    });
  </script>
</body>
</html>
